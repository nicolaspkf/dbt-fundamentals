-- OBS! Work in progress: Make .md files with descriptions of 'hotel' and 'customer_name'.
models:
  - name: stg_source__stays
    description: "Staging model unpacking hotel stay booking data."
    config:
      materilized: view
    tests:
      - dbt_utils.expression_is_true:
          expression: "regexp_like('credit_card','\\*{12,12}[0-9]{4,4)')"
    columns:
      - name: stay_id
        description: "A unique identifyer of a hotel booking."
        tests:
          - not_null
          - unique
          
      - name: hotel
        description: "{{ doc('hotel')} }"

      - name: cancelled_flag
        description: "A binary value indicating whether the stay was cancelled (1) or not (0)."

      - name: lead_time
        description: "INSERT DESCRIPTION!"

      - name: arrival_year
        description: "The year that the given stay was booked for."
      
      - name: name
        description: "{{ doc('customer_name') }}"
        tags: ['pii']

        -- More column configs...
